commit 8e13e8bfcadbcf39473e199f9aa36fa8e86df149
Author: JunnanLiu <1144097453@qq.com>
Date:   Fri Jun 13 16:04:50 2025 +0800

    1604

diff --git a/Telink/workspace/tl_ble_sdk-4.0.4.3_Patch_0001_0612/tl_ble_sdk/vendor/acl_connection_demo/pwm_test.c b/Telink/workspace/tl_ble_sdk-4.0.4.3_Patch_0001_0612/tl_ble_sdk/vendor/acl_connection_demo/pwm_test.c
new file mode 100644
index 000000000..9be90967a
--- /dev/null
+++ b/Telink/workspace/tl_ble_sdk-4.0.4.3_Patch_0001_0612/tl_ble_sdk/vendor/acl_connection_demo/pwm_test.c
@@ -0,0 +1,79 @@
+/********************************************************************************************************
+ * @file    pwm_test.c
+ *
+ * @brief   This is the source file for BLE SDK
+ *
+ * @author  BLE GROUP
+ * @date    06,2025
+ *
+ * @par     Copyright (c) 2022, Telink Semiconductor (Shanghai) Co., Ltd. ("TELINK")
+ *
+ *          Licensed under the Apache License, Version 2.0 (the "License");
+ *          you may not use this file except in compliance with the License.
+ *          You may obtain a copy of the License at
+ *
+ *              http://www.apache.org/licenses/LICENSE-2.0
+ *
+ *          Unless required by applicable law or agreed to in writing, software
+ *          distributed under the License is distributed on an "AS IS" BASIS,
+ *          WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ *          See the License for the specific language governing permissions and
+ *          limitations under the License.
+ *
+ *******************************************************************************************************/
+#include "tl_common.h"
+#include "drivers.h"
+#include "stack/ble/ble.h"
+#include "app.h"
+#include "app_config.h"
+
+// PWM clock enums
+enum pwm_clock
+{
+    // 姣忕鐨勬椂閽熷懆鏈熸暟
+    CLOCK_PWM_CLOCK_1S  = PWM_PCLK_SPEED,
+    // 姣忔绉掔殑鏃堕挓鍛ㄦ湡鏁?+    CLOCK_PWM_CLOCK_1MS = (CLOCK_PWM_CLOCK_1S / 1000),
+    // 姣忓井绉掔殑鏃堕挓鍛ㄦ湡鏁?+    CLOCK_PWM_CLOCK_1US = (CLOCK_PWM_CLOCK_1S / 1000000),
+};
+
+#define MAC_ADDR_FLASH_SECTOR  0x1FF000  // 鑷畾涔夌敤浜庡瓨鍌?MAC 鍦板潃鐨勫湴鍧€
+
+unsigned char mac_addr[6] = { 0x00, 0x22, 0x33, 0x44, 0x55, 0x66 };  // MAC鍦板潃绀轰緥
+
+void write_mac_to_flash(void) {
+    // 1. 鎿﹂櫎鎵€鍦ㄦ墖鍖猴紝纭繚鍙啓
+    flash_erase_sector(MAC_ADDR_FLASH_SECTOR);
+
+    // 2. 鍐欏叆 MAC 鍦板潃锛堝彧鍐?瀛楄妭锛屼篃鍙互鍐欎竴鏁撮〉锛?+    flash_write_page(MAC_ADDR_FLASH_SECTOR, sizeof(mac_addr), mac_addr);
+}
+
+void pwm_test(u8 key_code){
+    if (key_code == 1) {
+        printf( "[APP][PWM] PWM Enter\r\n");
+        // 浣胯兘GPIO鍔熻兘
+        gpio_function_en(PWM_PIN);     // 璁剧疆涓?PWM 鍔熻兘
+        gpio_output_en(PWM_PIN);       // 璁剧疆涓鸿緭鍑?+        gpio_input_dis(PWM_PIN);       // 绂佺敤杈撳叆
+
+        // 閰嶇疆 PWM 鐩稿叧璁剧疆
+        pwm_set_pin(PWM_PIN,PWM0);          // 閰嶇疆 PWM 寮曡剼
+        // 璁剧疆pwm0涓烘甯告ā寮?+        pwm_set_pwm0_mode(PWM_NORMAL_MODE);
+       // 閰嶇疆PWM鏃堕挓锛屾牴鎹甈CLK璁＄畻PWM鏃堕挓棰戠巼
+        // 1000*1000 鏄浆鎹㈡垚寰但鍏?+        pwm_set_clk((unsigned char)(sys_clk.pclk * 1000 * 1000 / PWM_PCLK_SPEED - 1));
+
+        // 楂樼數骞虫椂闂村€?+        pwm_set_tcmp(PWM_ID, 100 * CLOCK_PWM_CLOCK_1US);
+
+        // 淇″彿鍛ㄦ湡鍊艰缃?+        pwm_set_tmax(PWM_ID, 100 * CLOCK_PWM_CLOCK_1US);
+        pwm_start(PWM_PIN);  // 鍚姩PWM
+    }
+    else{
+        pwm_stop(PWM_PIN);  // 鍏抽棴PWM
+    }
+}
\ No newline at end of file
diff --git a/Telink/workspace/tl_ble_sdk-4.0.4.3_Patch_0001_0612/tl_ble_sdk/vendor/acl_connection_demo/pwm_test.h b/Telink/workspace/tl_ble_sdk-4.0.4.3_Patch_0001_0612/tl_ble_sdk/vendor/acl_connection_demo/pwm_test.h
new file mode 100644
index 000000000..12996bc4a
--- /dev/null
+++ b/Telink/workspace/tl_ble_sdk-4.0.4.3_Patch_0001_0612/tl_ble_sdk/vendor/acl_connection_demo/pwm_test.h
@@ -0,0 +1,29 @@
+/********************************************************************************************************
+ * @file    pwm_test.h
+ *
+ * @brief   This is the header file for BLE SDK
+ *
+ * @author  BLE GROUP
+ * @date    06,2025
+ *
+ * @par     Copyright (c) 2022, Telink Semiconductor (Shanghai) Co., Ltd. ("TELINK")
+ *
+ *          Licensed under the Apache License, Version 2.0 (the "License");
+ *          you may not use this file except in compliance with the License.
+ *          You may obtain a copy of the License at
+ *
+ *              http://www.apache.org/licenses/LICENSE-2.0
+ *
+ *          Unless required by applicable law or agreed to in writing, software
+ *          distributed under the License is distributed on an "AS IS" BASIS,
+ *          WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ *          See the License for the specific language governing permissions and
+ *          limitations under the License.
+ *
+ *******************************************************************************************************/
+#ifndef PWM_TEST_H_
+#define PWM_TEST_H_
+
+void pwm_test(u8 key_code);
+void write_mac_to_flash(void);
+#endif
\ No newline at end of file
